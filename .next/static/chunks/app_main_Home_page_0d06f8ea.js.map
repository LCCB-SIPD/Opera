{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/cordy/One_For_All_PHP/one_for_all/app/main/Home/page.js"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\nimport \"../../css/home.css\"\n\nexport default function Home() {\n    const router = useRouter();\n    const [user, setUser] = useState(null);\n    const [products_val, setProducts_val] = useState([])\n\n    useEffect(() => {\n        const checkAuth = async () => {\n            try {\n                const res = await fetch(\"/api/auth\", { credentials: \"include\" });\n                if (!res.ok) {\n                    router.replace(\"/\");\n                    alert(\"Invalid Credentials\")\n                    return;\n                }\n                const userData = await res.json();\n                setUser(userData);\n            } catch (error) {\n                router.replace(\"/\");\n            }\n        };\n\n        checkAuth();\n\n        const getProduct = async () => {\n            \n            try {\n                const response = await fetch(\"/api/getProduct\"); // Assuming this is your API route\n                const data = await response.json();\n    \n                if (response.ok) {\n                    setProducts_val(data.data); // Assuming 'data' contains the rows from the database\n                } else {\n                    setError(data.error || \"An error occurred while fetching products.\");\n                }\n            } catch (error) {\n                alert(error)\n            }\n\n        }\n\n        getProduct()\n\n    }, []);\n\n    const handleLogOut = async () => {\n\n        try {\n\n            const res = await fetch(\"/api/log_out\", { method: \"GET\" })\n\n            if (!res.ok) {\n                throw new Error(\"Logout failed\")\n            }\n\n            const data = await res.json()\n            alert(data.message)\n\n            router.push(\"/\")\n\n        } catch (error) {\n            alert(\"Internet Timeout OR Server Error\")\n        }\n\n    }\n\n    return (\n        <div className=\"welcome_page\">\n            <div className=\"banners\">\n                <div className=\"title\">\n                    <h1>One For All</h1>\n                </div>\n                <div className=\"searchBar\">\n                    <input \n                    type=\"text\" \n                    id=\"search\"\n                    placeholder=\"Search\"\n                    />\n                </div>\n                <div className=\"profile\">\n                    <div className=\"profile_pic\">\n                        <Image\n                            src=\"https://media.istockphoto.com/id/1300845620/vector/user-icon-flat-isolated-on-white-background-user-symbol-vector-illustration.jpg?s=612x612&w=0&k=20&c=yBeyba0hUkh14_jgv1OKqIH0CCSWU_4ckRkAoy2p73o=\"\n                            alt=\"Sample\"\n                            fill\n                            unoptimized\n                        />\n                    </div>\n                    <div className=\"profile_text\">\n                        <h1>{user ? user.username : \"----\"}</h1>\n                    </div>\n                    <div className=\"profile_option\">\n                        <button type=\"button\" onClick={() => router.push(\"/main/Profile\")}>My Profile</button>\n                        <button type=\"button\" onClick={() => router.push(\"/main/SellerShop\")}>Sell Product</button>\n                        <button type=\"button\" onClick={handleLogOut}>Log Out</button>\n                    </div>\n                </div>\n            </div>\n            <div className=\"products_cons\">\n                {products_val.map((products_value) => (\n                    <div className=\"products\" key={products_value.id}>\n                    <div className=\"products_image\">\n                        <Image\n                            src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCQ5DaMNfmNBEuQaBUawxCv2NOgV01Kmqj0Q&s\"\n                            alt=\"Sample\"\n                            fill\n                            unoptimized\n                        />\n                    </div>\n                    <div className=\"product_info\">\n                        <h1>{products_value.name}</h1>\n                        <h2>Owner: {products_value.user_owner}</h2>\n                        <h2>Categories: {products_value.categories}</h2>\n                        <p>{products_value.price}</p>\n                    </div>\n                    <div className=\"buttons\">\n                        <button>Cart</button>\n                        <button>Buy</button>\n                    </div>\n                </div>    \n                ))}\n                \n                \n\n\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}