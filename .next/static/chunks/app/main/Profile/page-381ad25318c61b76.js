(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[148],{1469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return d},getImageProps:function(){return l}});let i=a(8229),r=a(8883),s=a(3063),n=i._(a(1193));function l(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let d=s.Image},2863:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var i=a(5155),r=a(2115),s=a(5695),n=a(6766);function l(){let e=(0,s.useRouter)(),[t,a]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[m,p]=(0,r.useState)(""),[f,j]=(0,r.useState)(!0),[x,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[_,S]=(0,r.useState)(""),[g,N]=(0,r.useState)(""),[k,w]=(0,r.useState)(""),[P,C]=(0,r.useState)("/main/Iframe_buy_pro"),I=e=>{C(e)},O=(null==t?void 0:t.username)||"";(0,r.useEffect)(()=>{(async()=>{try{let t=await fetch("/api/auth",{credentials:"include"});if(!t.ok){e.replace("/"),alert("Invalid Credentials");return}let i=await t.json();a(i)}catch(t){e.replace("/")}})(),O&&U()},[O]);let U=async()=>{try{let e=await fetch("/api/getUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O}),credentials:"include"}),t=await e.json();e.ok?(v(t.data.name),w(t.data.id),S(t.data.username),N(t.data.email),b(t.data.birth)):(j(!1),p(data.error))}catch(e){p("Update Personal Information"),alert("Please Set Up Your Personal Information")}},E=async e=>{e.preventDefault(),h(!0);try{let e=await fetch("/api/profile_set_up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O,name:l,date:o})}),t=await e.json();e.ok?(alert(t.message),window.location.reload()):(p(t.error),h(!1))}catch(e){p("Error Database Connection")}};return(0,i.jsxs)("div",{className:"Profile",children:[(0,i.jsxs)("div",{className:"profile_info",children:[(0,i.jsx)("div",{className:"profile_pic2",children:(0,i.jsx)(n.default,{src:"https://media.istockphoto.com/id/1300845620/vector/user-icon-flat-isolated-on-white-background-user-symbol-vector-illustration.jpg?s=612x612&w=0&k=20&c=yBeyba0hUkh14_jgv1OKqIH0CCSWU_4ckRkAoy2p73o=",alt:"Sample",fill:!0,unoptimized:!0})}),(0,i.jsxs)("div",{className:"profile_data",children:[(0,i.jsxs)("div",{className:"profile_infos",children:[(0,i.jsx)("div",{children:(0,i.jsxs)("h1",{children:["Name: ",x]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("h1",{children:["Birthday: ",y]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("h1",{children:["Email: ",g]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("h1",{children:["User ID: ",k]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("h1",{children:["Username: @",_]})})]}),(0,i.jsx)("div",{className:"".concat(f?"hidden":"set_up_profile"),children:(0,i.jsxs)("form",{onSubmit:E,children:[(0,i.jsx)("h1",{children:"Set up Profile Information"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"name",children:"Name: "}),(0,i.jsx)("input",{type:"text",id:"name",value:l,onChange:e=>d(e.target.value),required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:"birth",children:"Birthday: "}),(0,i.jsx)("input",{type:"date",id:"birth",value:o,onChange:e=>c(e.target.value),required:!0})]}),(0,i.jsx)("div",{children:(0,i.jsx)("button",{type:"submit",children:"Update"})}),m&&(0,i.jsx)("p",{style:{color:"#f00"},children:m}),(0,i.jsx)("h1",{className:"".concat(u?"":"hidden"),children:"Updating..."})]})})]})]}),(0,i.jsxs)("div",{className:"inventory",children:[(0,i.jsxs)("div",{className:"inventory_banners",children:[(0,i.jsx)("button",{type:"button",onClick:()=>I("/main/Iframe_buy_pro"),children:"Buy Products"}),(0,i.jsx)("button",{type:"button",onClick:()=>I("/main/Iframe_sell_pro"),children:"Sell Products"})]}),(0,i.jsx)("div",{className:"iframe_home",children:(0,i.jsx)("iframe",{src:P,allowFullScreen:!0})})]})]})}a(5319)},3940:(e,t,a)=>{Promise.resolve().then(a.bind(a,2863))},5319:()=>{},6766:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var i=a(1469),r=a.n(i)}},e=>{var t=t=>e(e.s=t);e.O(0,[774,978,441,684,358],()=>t(3940)),_N_E=e.O()}]);