(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return n},getImageProps:function(){return c}});let s=r(8229),a=r(8883),i=r(3063),l=s._(r(1193));function c(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let n=i.Image},4961:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),i=r(5695),l=r(6766);function c(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(null),[c,n]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>{try{let t=await fetch("/api/auth",{credentials:"include"});if(!t.ok){e.replace("/"),alert("Invalid Credentials");return}let s=await t.json();r(s)}catch(t){e.replace("/")}})(),(async()=>{try{let e=await fetch("/api/getProduct"),t=await e.json();e.ok?n(t.data):setError(t.error||"An error occurred while fetching products.")}catch(e){alert(e)}})()},[]);let o=async()=>{try{let t=await fetch("/api/log_out",{method:"GET"});if(!t.ok)throw Error("Logout failed");let r=await t.json();alert(r.message),e.push("/")}catch(e){alert("Internet Timeout OR Server Error")}};return(0,s.jsxs)("div",{className:"welcome_page",children:[(0,s.jsxs)("div",{className:"banners",children:[(0,s.jsx)("div",{className:"title",children:(0,s.jsx)("h1",{children:"One For All"})}),(0,s.jsx)("div",{className:"searchBar",children:(0,s.jsx)("input",{type:"text",id:"search",placeholder:"Search"})}),(0,s.jsxs)("div",{className:"profile",children:[(0,s.jsx)("div",{className:"profile_pic",children:(0,s.jsx)(l.default,{src:"https://media.istockphoto.com/id/1300845620/vector/user-icon-flat-isolated-on-white-background-user-symbol-vector-illustration.jpg?s=612x612&w=0&k=20&c=yBeyba0hUkh14_jgv1OKqIH0CCSWU_4ckRkAoy2p73o=",alt:"Sample",fill:!0,unoptimized:!0})}),(0,s.jsx)("div",{className:"profile_text",children:(0,s.jsx)("h1",{children:t?t.username:"----"})}),(0,s.jsxs)("div",{className:"profile_option",children:[(0,s.jsx)("button",{type:"button",onClick:()=>e.push("/main/Profile"),children:"My Profile"}),(0,s.jsx)("button",{type:"button",onClick:()=>e.push("/main/SellerShop"),children:"Sell Product"}),(0,s.jsx)("button",{type:"button",onClick:o,children:"Log Out"})]})]})]}),(0,s.jsx)("div",{className:"products_cons",children:c.map(e=>(0,s.jsxs)("div",{className:"products",children:[(0,s.jsx)("div",{className:"products_image",children:(0,s.jsx)(l.default,{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSCQ5DaMNfmNBEuQaBUawxCv2NOgV01Kmqj0Q&s",alt:"Sample",fill:!0,unoptimized:!0})}),(0,s.jsxs)("div",{className:"product_info",children:[(0,s.jsx)("h1",{children:e.name}),(0,s.jsxs)("h2",{children:["Owner: ",e.user_owner]}),(0,s.jsxs)("h2",{children:["Categories: ",e.categories]}),(0,s.jsx)("p",{children:e.price})]}),(0,s.jsxs)("div",{className:"buttons",children:[(0,s.jsx)("button",{children:"Cart"}),(0,s.jsx)("button",{children:"Buy"})]})]},e.id))})]})}r(8785)},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(1469),a=r.n(s)},8640:(e,t,r)=>{Promise.resolve().then(r.bind(r,4961))},8785:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[360,978,441,684,358],()=>t(8640)),_N_E=e.O()}]);